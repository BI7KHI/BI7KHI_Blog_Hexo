---
title: 【得粥仪器】大疆TB47S-48S电量计调试指北
date: 2025-09-28 23:45:09
tags: [德州仪器,大疆,RM,技术手册,无人机]
categories: [电子技术与单片机]
cover: /images/EV2400/调参页面.png
---
# 德州仪器电量计EV2400调试器使用指南

本文讨论的是关于DJI TB47S/TB48S电量计通过德州仪器EV2400调试的过程
包括更换全新电芯，电池调参，容量学习步骤
本文相关详细教程持续更新中

## 有什么用？

* 复活电池，再战三年
* 校准电量计，更加准确统计电量数据，不会异常断电
* 通过升级电芯，电池发热量更小，更加安全的使用
* 更大的放电功率(对于RM没用因为有裁判系统)，对于DJI Matrice600/600Pro等无人机，电池放电功率更大，动力更加充足

这个技术目前用于服务国防科技大学军临战队的电池改装和承接部分Matrice600/600Pro无人机的电池改装任务

# WARN:**改装有风险，动手需谨慎**

**自行违规操作导致的电池损坏或者安全事故，与作者无关，后果自负**

## 应用领域：

* 大疆Matrice600/600Pro
* 大疆RoboMaster比赛用电池
* ~~自用的话拿来做充电宝也不错~~

## 介绍EV2400调试器

![EV2400调试器](/images/EV2400/EV2400.jpg)
可见接口配置

* SMBD SMBC 德州仪器bq系列调试串口
* SCL SDA 用于I2C通信(悟INSPIRE2系列电池维修)

本文中仅使用SMBD SMBC接口用于TB47S/TB48S电量计调试

## 步骤一 准备好全新的电芯

全新的电池，需要找商家进行采购和转镍以便于焊接，原厂的电池内阻普遍在7mΩ，改装电芯最优能采购到3mΩ的优质电芯
更低的内阻也以为着更大的电池容量，更低的发热量，能支撑更大功率的输出(更大的功率输出同样受限于电池管理板)，有相当明确的短板效应，个人认为单个电池功率不建议超过200w

### 典型例子

广东工业大学DynamicX战队无人机炸板原因为电池主板温度过高导致MOS管子炸飞，如图所示

![飞起来的管子](/images/EV2400/飞起来的管子.jpg)

那怎么办，个人认为凉拌

设计合适的PCB串并联板，6S2P结构，安装焊接之前需要进行分容操作  ***分容操作非常重要，这直接关系到电池的使用寿命***

![电池组成品](/images/EV2400/电池组成品.jpg)

最好使用T12烙铁进行焊接，否则可能会出现焊接不牢，虚焊的现象，焊接完成后用洗板水清洗焊油

## 步骤二 调参准备

观察电池主板上的测试点，可以很明显观察到SMBD SMBC测试点，拿出小烙铁，焊接杜邦线连接

![SMBDSMBC测试点](/images/EV2400/SMBDSMBC测试点.jpg)

部分电池板会出现类似悟INSPIRE1的TB47/TB48的LAYOUT布局，以实际情况为准

按照定义连接至EV2400调试器的SMBD SMBC接口

## 步骤三 开始调参

将调试器连接至电脑，打开德州仪器的Battery Managent Studio调试软件，若连接正确，会自动识别芯片类型并加载
具体电量计芯片为**BQ78350-R1**

![BatteryManagementStudio](/images/EV2400/BatteryManagementStudio.png)

铃兰小姐好帅

进入调参页面

![调参页面](/images/EV2400/调参页面.png)

在右侧工具栏点击**UNSEAL**按钮，解锁调参
右上角点击**Refresh**按钮，刷新数据，可以看到下面的SEC1变为绿色即表示解锁成功
部分电池会出现密码弹窗，即可能为TB47/TB48电池，默认密码 ``351B6c15``
![SEC0](/images/EV2400/SEC0.png)

首先需要初始化，在上侧工具栏角选择**Cailbration bq78350**，输入每个组串电池的电压（单位mv）,然后应用

然后进入Data Memory页面

![DataMemory](/images/EV2400/DATAMEMORY.png)

实际上只需要调整几个参数而已（如果用的是原来的LIHv电池，标压3.85的那种）
### TB47S与TB48S参数对比

| 参数项 | TB47S | TB48S | 备注 |
|--------|-------|-------|------|
| Design Capacity (mAh) | 4250 | 5450 | 设计容量 |
| Design Capacity (cWh) | 10260 | 12996 | 设计容量（瓦时） |
| Cycle Count | 0 | 0 | 循环次数（全新电池） |
| Qmax Pack | 4250 | 5450 | 最大容量 |
| Learned Full Charge Capacity | 4250 | 5450 | 学习到的满充容量 |
| Dod at EDV2 | 12960 | 14870 | EDV2时的放电深度 |
| EMF | 3718 | 3732 | NA |

### 其它指令说明

| 指令 | 功能说明 |
|------|----------|
| LT RESET （LifeTime Reset） | 重置所有生命数据 |
| RESET | 强制设备完全复位 |
| LT FLUSH | 从RAM写入LT数据到DF |

充值后看似电量显示正确，Health到达了100%，但是电池会出现电量不准的情况，例如放出了接近140wh的电量但是电池显示还有三格电的情况，我们需要对电池进行一次完整的充放电让电池板进行学习，更新Learned Full Charge Capacity的值

如果手上有ToolKitRC充电器之类的设备无疑是最好的选择（本人力推，0.1-35v电压输出最大25A电流支持，最大8S电池充电，预置智能电池程序，支持PWM测量和输出，超宽电压输入，**电子玩家超级利器**）
设置充电电池为悟系列智能电池，电流设定5A（推荐），先将组装好的电池充至满电
然后将电池接入至TOOLKITRC充电器输入端，输出端接到负载
（建议输出负载为一个更大的锂电池，电力也不会变成热能浪费掉，也更加安全。目前用的是广东省无协退下来的1kwh磷酸铁锂）
保持大约180w-200w的输出功率，将电池电量放到自动断电，（电池电压降为3.3v以下为断电保护）
~~在智能电池的手册中，有提及每经过10次放电循环需要进行一次完全充放电~~
![TOOLKITRC](/images/EV2400/TOOLKITRC.jpg)
然后再将电池重新充满电，学习这样就完成啦
如果有再次接入EV2400看参数，你会发现电池健康由100%有所下降。Learned Full Charge Capacity也更新为了实时数据
这样之后部分需要读取电池IIC数据也不会报错啦
这样改装也就结束了

---
最后打个广告，我在海鲜市场有提供改装服务，欢迎咨询喵~
![海鲜市场](/images/EV2400/海鲜市场.jpg)

---
有其它技术细节这篇文章我会继续更新

THE END